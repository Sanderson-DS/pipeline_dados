Já instalamos e configuramos um usuário no MySQL, e agora precisamos utilizá-lo para conectar o Python ao MySQL. Para isso, vamos acessar o nosso editor de código VS Code.

Conectando o MySQL ao Python
Com o terminal aberto, iremos acessar a pasta de trabalho. O comando é o seguinte:

cd pipeline-python-mongo-mysql/
Copiar código
Em seguida, usamos o comando code . para abrir o VS Code.

code .
Copiar código
Na aba "Explorer" à esquerda, dentro da pasta "scripts", agora temos um novo script, chamado transform_data.py, referente ao desafio proposto na aula 3.

Caso você não tenha esse arquivo, sugerimos retornar à aula 3 e realizar o desafio para adquirir esse aprendizado.

Além disso, na pasta "notebooks", temos um novo notebook no qual vamos trabalhar a partir desta aula, chamado save_data_mysql.ipynb. Vamos abri-lo e fechar a aba "Explorer".

Esse notebook ainda não contém nenhum código, apenas textos direcionais. Para fazer a conexão do MySQL com Python, vamos na primeira célula de código e começar importando a biblioteca que vai nos ajudar na conexão: a MySQL Connector. O comando deve ficar assim:

import mysql.connector
Copiar código
Em seguida, na mesma célula, vamos criar nosso objeto de conexão. Para isso, vamos criar uma variável chamada cnx (abreviação de connection), que será igual a mysql.connector seguida do método connect().

import mysql.connector

cnx = mysql.connector.connect()
Copiar código
Entre os parênteses, precisamos passar alguns parâmetros para estabelecer a conexão. Os parâmetros são: host, user e password, definidos quando criamos o usuário no MySQL.

O parâmetro host será localhost; o user será o nome de usuário definido no MySQL, que no caso da instrutora é millenagena; por último, temos o parâmetro password, que será 12345.

Ao final do comando, usaremos o método print() recebendo a variável cnx.

import mysql.connector

cnx = mysql.connector.connect()
    host = "localhost",
    user = "millenagena",
    password = "12345"
)

print(cnx)
Copiar código
Ao executar o código, é retornado que cnx é um objeto do tipo CMySQLConnection, e caso não seja retornado nenhum erro, significa que a conexão foi efetuada com sucesso.

Na próxima célula, precisamos criar um cursor utilizando esse objeto de conexão. Esse cursor é o objeto que vamos utilizar para executar instruções MySQL no Python. Então, vamos nomear a variável como cursor, e ela será igual ao método cnx.cursor().

cursor = cnx.cursor()
Copiar código
Podemos executar este código para verificar se tudo foi executado com sucesso. Se tudo ocorrer conforme esperado, nosso cursor será criado.

Conclusão
Para finalizar, pressionamos "Ctrl + S" para salvar o notebook. Com a conexão estabelecida e o cursor criado, podemos começar a criar a nossa base de dados!
